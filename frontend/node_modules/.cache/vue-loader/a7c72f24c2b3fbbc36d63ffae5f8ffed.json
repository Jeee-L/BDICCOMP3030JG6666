{"remainingRequest":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\src\\pages\\User-Login.vue?vue&type=style&index=0&id=06d5762a&scoped=true&lang=css&","dependencies":[{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\src\\pages\\User-Login.vue","mtime":1555840112000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.login-cover-image {\n  background-image: url(\"../assets/img/china-ireland.jpg\");\n}\n",{"version":3,"sources":["User-Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgMA;AACA;AACA","file":"User-Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <!-- begin login-cover -->\n    <div class=\"login-cover\">\n      <div class=\"login-cover-image\"></div>\n      <div class=\"login-cover-bg\"></div>\n    </div>\n    <!-- end login-cover -->\n\n    <!-- begin login -->\n    <div class=\"login login-v2\" data-pageload-addclass=\"animated fadeIn\">\n      <!-- begin brand -->\n      <div class=\"login-header\">\n        <div class=\"brand\">\n          <span class=\"logo\"></span>\n          <b>Hibernia-Sino</b> Travel Insurance\n          <small>providing the best travel experience between China and Ireland</small>\n        </div>\n      </div>\n      <!-- end brand -->\n      <!-- begin login-content -->\n      <div class=\"login-content\">\n        <div class=\"form-group m-b-20\">\n          <input\n            type=\"text\"\n            class=\"form-control form-control-lg\"\n            placeholder=\"User Name\"\n            v-model=\"formData.username\"\n            required\n          >\n        </div>\n        <div class=\"form-group m-b-20\">\n          <input\n            type=\"password\"\n            class=\"form-control form-control-lg\"\n            placeholder=\"Password\"\n            v-model=\"formData.password\"\n            required\n          >\n        </div>\n        <p v-show=\"showNotification\" style=\"color: red;\">{{notification}}</p>\n        <!-- <div class=\"checkbox checkbox-css m-b-20\">\n          <input type=\"checkbox\" id=\"remember_checkbox\">\n          <label for=\"remember_checkbox\">Remember Me</label>\n        </div>-->\n        <div class=\"login-buttons\">\n          <button v-on:click=\"login\" class=\"btn btn-success btn-block btn-lg\">Sign me in</button>\n        </div>\n        <div class=\"m-t-20\">\n          Not a member yet? Click\n          <a href=\"javascript:;\" v-on:click=\"toRegister\">here</a> to register.\n        </div>\n      </div>\n      <!-- end login-content -->\n    </div>\n    <!-- end login -->\n  </div>\n</template>\n\n<script>\nimport PageOptions from \"../config/PageOptions.vue\";\n\nimport axios from \"axios\";\nimport { setCookie, getCookie } from \"../assets/js/cookie.js\";\n// import { setTimeout } from \"timers\";\n\nexport default {\n  data() {\n    return {\n      notification: \"\",\n      showNotification: false,\n      formData: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n  },\n  created() {\n    PageOptions.pageEmpty = true;\n  },\n  beforeRouteLeave(to, from, next) {\n    PageOptions.pageEmpty = false;\n    next();\n  },\n  mounted() {\n    if (getCookie(\"username\")) {\n      this.$router.push({ path: \"/home\" });\n    }\n  },\n  methods: {\n    login() {\n      if (this.formData.username == \"\" || this.formData.password == \"\") {\n        alert(\"Please enter valid User Name and Password.\");\n      } else {\n        var obj = JSON.stringify(this.formData);\n        axios.post(\"http://localhost:5000/login/\", obj).then(res => {\n          var response = JSON.parse(JSON.stringify(res.data));\n          if (response.state == \"-1\") {\n            this.notification = response.error_msg;\n            this.showNotification = true;\n          } else if (response.state == \"0\") {\n            this.notification = response.error_msg;\n            this.showNotification = true;\n          } else if (response.state == \"3\") {\n            this.$administrator.username = this.username;\n            this.$administrator.password = this.password;\n            this.notification =\n              \"Welcome to the Administration Page, \" +\n              this.$administrator.username +\n              \".\";\n            this.showNotification = true;\n          } else if (response.state == \"2\") {\n            this.$employee.username = this.username;\n            this.$employee.password = this.password;\n            this.notification =\n              \"Welcome to the Employee Page, \" + this.$employee.username + \".\";\n            this.showNotification = true;\n          } else {\n            this.$user.first_name = response.first_name == null\n              ? \"\"\n              : response.first_name;\n            this.$user.last_name = response.last_name == null\n              ? \"\"\n              : response.last_name;\n            this.$user.username = this.formData.username == null\n              ? \"\"\n              : this.formData.username;\n            this.$user.password = this.formData.password == null\n              ? \"\"\n              : this.formData.password;\n            this.$user.phone_num = response.phone_num == null\n              ? \"\"\n              : response.phone_num;\n            this.$user.passport_num = response.passport_num == null\n              ? \"\"\n              : response.passport_num;\n            this.$user.email = response.email == null\n              ? \"\"\n              : response.email;\n            this.$user.birthday = response.birthday == null\n              ? new Date()\n              : response.birthday;\n            this.$user.address = response.address == null\n              ? \"\"\n              : response.address;\n            this.$user.insurance_list = response.insurance_list == null\n              ? \"\"\n              : response.insurance_list;\n            this.$user.insurance_order_list = response.insurance_order_list == null\n              ? \"\"\n              : response.insurance_order_list;\n            this.$user.claim_list = response.claim_list == null\n              ? \"\"\n              : response.claim_list;\n\n            setCookie(\"username\", this.username, 1000 * 60);\n            this.$router.push(\"/home\");\n          }\n        });\n      }\n    },\n    toRegister() {\n      this.$router.push(\"/register\");\n    },\n    isEmpty(s) {\n      var v = null;\n      if (typeof s == \"object\") {\n        if (s == null) {\n          alert(\"null\");\n          return true;\n        }\n        if (typeof s.getValue != \"undefined\") {\n          alert(\"undefined\");\n          v = s.getValue();\n        } else {\n          alert(\"else\");\n          v = s.value;\n        }\n      } else {\n        v = s;\n      }\n      if (v == null || v == \"\" || v == \"NaN\" || v == \"undefined\") {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.login-cover-image {\n  background-image: url(\"../assets/img/china-ireland.jpg\");\n}\n</style>\n"]}]}