{"remainingRequest":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\src\\pages\\Page-Baggage-RegisterBaggage.vue?vue&type=style&index=0&id=40b816b6&scoped=true&lang=css&","dependencies":[{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\src\\pages\\Page-Baggage-RegisterBaggage.vue","mtime":1556023348000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SoftwareProject2\\BDICCOMP3030JG6666\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n#pie {\r\n  margin-top: 40px;\r\n  margin-left: 40px;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n#inforTable {\r\n  margin: 40px;\r\n}\r\n\r\n#info {\r\n  background: #edfaa225;\r\n}\r\n\r\n.mb-3 {\r\n  background-color: #80acdf11 !important;\r\n}\r\n.img-fluid {\r\n  margin: 10px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.instruct-crop {\r\n  margin: 5px;\r\n  margin-bottom: 40px;\r\n  font-size: 15px;\r\n  background-color: #f5e8bf52 !important;\r\n}\r\n\r\n.itemUpdateButton {\r\n  margin: 10px;\r\n  margin-left: 30px;\r\n}\r\n\r\n.bt-save {\r\n  background-color: rgba(255, 127, 127, 0.274) !important;\r\n}\r\n\r\n.bt-update {\r\n  background-color: rgba(127, 255, 206, 0.267) !important;\r\n}\r\n\r\n.bt-remark {\r\n  background-color: rgba(127, 178, 255, 0.267) !important;\r\n}\r\n\r\n.media {\r\n  background-color: rgba(226, 224, 224, 0.171) !important;\r\n}\r\n\r\ninput:disabled {\r\n  border: 1px solid #ddd;\r\n  background-color: #ffffffb6;\r\n  color: #000000;\r\n  opacity: 1;\r\n}\r\n\r\n.table-responsive {\r\n  margin: 20px !important;\r\n}\r\n\r\n.table-invoice {\r\n  font-size: 13px;\r\n}\r\n\r\n.step-explain {\r\n  font-size: 15px;\r\n}\r\n\r\n.right-button {\r\n  margin-top: 5px;\r\n  margin-left: 85%;\r\n}\r\n\r\n.invoice {\r\n  width: 100% !important;\r\n  margin: 20px;\r\n}\r\n",{"version":3,"sources":["Page-Baggage-RegisterBaggage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiyBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Page-Baggage-RegisterBaggage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"card card-default\">\r\n      <div class=\"card-header\">\r\n        <h3>Register Baggages Before Travelling</h3>\r\n        <br>\r\n        <p>\r\n          Please register baggages in need before your trip.\r\n          <br>Only insured baggages can get due compensation once lost.\r\n        </p>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <div id=\"info\" v-show=\"!showForm\">\r\n          <div class=\"row\">\r\n            <div>\r\n              <pie-chart\r\n                :data=\"pieChart.data\"\r\n                :options=\"pieChart.options\"\r\n                class=\"height-sm\"\r\n                id=\"pie\"\r\n              ></pie-chart>\r\n              <h6 style=\"margin-left: 50px; width: 100%\">\r\n                This pie chart shows the proportions of your previous orders.\r\n                <br>\r\n                <br>Please note that the black section marks your balance.\r\n                <br>If your newly registered baggage order exceeds the balance,\r\n                <br>application will be rejected.\r\n              </h6>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-lime\"\r\n                v-on:click=\"changeFormStatus\"\r\n                style=\"margin-left: 130px; margin-top: 30px; font-size: 15px; padding: 15px\"\r\n              >Register Baggages Now</button>\r\n            </div>\r\n            <div class=\"col-xl-6\" id=\"inforTable\">\r\n              <div class=\"row\">\r\n                <!-- begin col-3 -->\r\n                <div style=\"margin-left: 20px; width: 45% !important\">\r\n                  <div class=\"widget widget-stats bg-gradient-blue\">\r\n                    <div class=\"stats-icon stats-icon-lg\">\r\n                      <i class=\"fa fa-archive fa-fw\"></i>\r\n                    </div>\r\n                    <div class=\"stats-content\">\r\n                      <div class=\"stats-title\">Time Remaining</div>\r\n                      <div class=\"stats-number\">11 Days</div>\r\n                      <div class=\"stats-progress progress\">\r\n                        <div class=\"progress-bar\" style=\"width: 40.5%;\"></div>\r\n                      </div>\r\n                      <div class=\"stats-desc\">Better than last week (40.5%)</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!-- end col-3 -->\r\n                <!-- begin col-3 -->\r\n                <div style=\"margin-left: 20px; width: 45% !important\">\r\n                  <div class=\"widget widget-stats bg-gradient-purple\">\r\n                    <div class=\"stats-icon stats-icon-lg\">\r\n                      <i class=\"fa fa-dollar-sign fa-fw\"></i>\r\n                    </div>\r\n                    <div class=\"stats-content\">\r\n                      <div class=\"stats-title\">Insurance Balance</div>\r\n                      <div class=\"stats-number\">900 EUR</div>\r\n                      <div class=\"stats-progress progress\">\r\n                        <div class=\"progress-bar\" style=\"width: 76.3%;\"></div>\r\n                      </div>\r\n                      <div class=\"stats-desc\">Better than last week (76.3%)</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!-- end col-3 -->\r\n              </div>\r\n              <br>\r\n              <h6>\r\n                Please check your remaing time and balance before creating new orders.\r\n                <br>\r\n                <br>The table below shows your detailed purchasing records, and helps keep track of your spendings and accounts.\r\n              </h6>\r\n              <br>\r\n              <div class=\"card card-default\">\r\n                <div class=\"card-header\">Baggage Registration Records</div>\r\n                <div class=\"card-body\">\r\n                  <b-table responsive striped hover :items=\"itemsFields\" :fields=\"parameters\"></b-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <form-wizard\r\n          @on-complete=\"submitOrderForm\"\r\n          color=\"#80acdf\"\r\n          shape=\"circle\"\r\n          title=\"Register Baggages\"\r\n          subtitle=\"Please compvare required baggage information and provide your appraisal.\"\r\n          v-show=\"showForm\"\r\n        >\r\n          <!-- Headers -->\r\n          <tab-content title=\"Baggage Information\">\r\n            <b-card class=\"mb-3\">\r\n              <!-- begin fieldset -->\r\n              <fieldset>\r\n                <!-- begin row -->\r\n                <div class=\"row\">\r\n                  <!-- begin col-8 -->\r\n                  <div class=\"col-md-8 offset-md-2\">\r\n                    <legend\r\n                      class=\"no-border f-w-700 p-b-0 m-t-0 m-b-20 f-s-16 text-inverse\"\r\n                    >Please compvare baggage information and upload photos as required</legend>\r\n                    <!-- begin form-group -->\r\n                    <div class=\"form-group row m-b-10\">\r\n                      <label class=\"col-md-3 col-form-label text-md-right\">\r\n                        Flight Number\r\n                        <span class=\"text-danger\">*</span>\r\n                      </label>\r\n                      <div class=\"col-md-6\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Flight Number of the Journey\"\r\n                          name=\"flight_num\"\r\n                          v-model=\"formData.flight_num\"\r\n                          v-validate=\"{ required: true, regex:/^[\\dA-Z][A-Z]{1,2}\\d{2,4}$/}\"\r\n                          v-bind:class=\"{'is-invalid': errors.has('flight_num')}\"\r\n                        >\r\n                        <span style=\"color: red !important;\">{{ errors.first('flight_num') }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <!-- end form-group -->\r\n                    <!-- begin form-group -->\r\n                    <div class=\"form-group row m-b-10\">\r\n                      <label class=\"col-md-3 col-form-label text-md-right\">\r\n                        Baggage Width\r\n                        <span class=\"text-danger\">*</span>\r\n                      </label>\r\n                      <div class=\"col-md-6\">\r\n                        <input\r\n                          type=\"number\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Baggage Width (in centimeter)\"\r\n                          name=\"luggage_width\"\r\n                          v-model=\"formData.luggage_width\"\r\n                          v-validate=\"{ required: true}\"\r\n                          v-bind:class=\"{'is-invalid': errors.has('luggage_width')}\"\r\n                        >\r\n                        <span style=\"color: red !important;\">{{ errors.first('luggage_width') }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <!-- end form-group -->\r\n                    <!-- begin form-group -->\r\n                    <div class=\"form-group row m-b-10\">\r\n                      <label class=\"col-md-3 col-form-label text-md-right\">\r\n                        Baggage Height\r\n                        <span class=\"text-danger\">*</span>\r\n                      </label>\r\n                      <div class=\"col-md-6\">\r\n                        <input\r\n                          type=\"number\"\r\n                          name=\"luggage_height\"\r\n                          placeholder=\"Baggage Height (in centimeter)\"\r\n                          class=\"form-control\"\r\n                          v-model=\"formData.luggage_height\"\r\n                          v-validate=\"{ required: true}\"\r\n                          v-bind:class=\"{'is-invalid': errors.has('luggage_height')}\"\r\n                        >\r\n                        <span style=\"color: red !important;\">{{ errors.first('luggage_height') }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <!-- end form-group -->\r\n                    <!-- begin form-group -->\r\n                    <div class=\"form-group row m-b-10\">\r\n                      <label class=\"col-md-3 col-form-label text-md-right\">\r\n                        Baggage Color\r\n                        <span class=\"text-danger\">*</span>\r\n                      </label>\r\n                    </div>\r\n                    <br>\r\n                    <br>\r\n                    <!-- end form-group -->\r\n                    <!-- begin form-group -->\r\n                    <div class=\"form-group row m-b-10\">\r\n                      <label class=\"col-md-3 col-form-label text-md-right\">\r\n                        Baggage Outside Image\r\n                        <span class=\"text-danger\">*</span>\r\n                      </label>\r\n                      <div class=\"col-md-6\">\r\n                        <b-form-group\r\n                          description=\"Please take a photo from the outside of your baggage.\"\r\n                        >\r\n                          <b-file\r\n                            @change=\"convertImg($event, 'out')\"\r\n                            accept=\"image/*\"\r\n                            :state=\"'valid'\"\r\n                            name=\"baggage_inside_image\"\r\n                            v-validate=\"{ required: true}\"\r\n                            v-bind:class=\"{'is-invalid': errors.has('baggage_inside_image')}\"\r\n                          >\r\n                            <span\r\n                              style=\"color: red !important;\"\r\n                            >{{ errors.first('baggage_inside_image') }}</span>\r\n                          </b-file>\r\n                        </b-form-group>\r\n                      </div>\r\n                    </div>\r\n                    <!-- end form-group -->\r\n                    <!-- begin form-group -->\r\n                    <div class=\"form-group row m-b-10\">\r\n                      <label class=\"col-md-3 col-form-label text-md-right\">\r\n                        Baggage Inside Image\r\n                        <span class=\"text-danger\">*</span>\r\n                      </label>\r\n                      <div class=\"col-md-6\">\r\n                        <b-form-group\r\n                          description=\"Please provide an iterior photo of your baggage.\"\r\n                        >\r\n                          <b-file\r\n                            @change=\"convertImg($event, 'in')\"\r\n                            accept=\"image/*\"\r\n                            :state=\"'valid'\"\r\n                            name=\"baggage_outside_image\"\r\n                            v-validate=\"{ required: true}\"\r\n                            v-bind:class=\"{'is-invalid': errors.has('baggage_outside_image')}\"\r\n                          >\r\n                            <span\r\n                              style=\"color: red !important;\"\r\n                            >{{ errors.first('baggage_outside_image') }}</span>\r\n                          </b-file>\r\n                        </b-form-group>\r\n                      </div>\r\n                    </div>\r\n                    <!-- end form-group -->\r\n                  </div>\r\n                  <!-- end col-8 -->\r\n                </div>\r\n                <!-- end row -->\r\n              </fieldset>\r\n              <!-- end fieldset -->\r\n            </b-card>\r\n          </tab-content>\r\n          <tab-content title=\"Upload Item Images in Your Baggage\">\r\n            <b-card class=\"mb-3\">\r\n              <!-- begin step-2 -->\r\n              <div id=\"step-2\">\r\n                <!-- begin fieldset -->\r\n                <fieldset>\r\n                  <!-- begin row -->\r\n                  <div class=\"row\">\r\n                    <!-- begin col-8 -->\r\n                    <legend\r\n                      class=\"no-border f-w-700 p-b-0 m-t-0 m-b-20 f-s-16 text-inverse\"\r\n                    >Please select one proper project (product)</legend>\r\n\r\n                    <div class=\"container-md\" style=\"width: 100% !important\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-xl-8\">\r\n                          <div class=\"card card-body instruct-crop\">\r\n                            <b>Instructions for selecting individual belongs</b>\r\n                            <br>\r\n                            <br>1. Click \"Change Image\" button to upload an interior photo of your baggage.\r\n                            <br>2. Adjust image size by rolling your mouse.\r\n                            <br>3. Click \"Start Crop\" button to select region of interest.\r\n                            <br>4. Enter name and price in the input fields aside.\r\n                            <br>5. Click \"Submit Item\" button to submit image and information.\r\n                            <br>6. Click \"Stop Crop\" button to complete this selection process.\r\n                          </div>\r\n                          <div\r\n                            class=\"mb-3\"\r\n                            :class=\"{ 'd-none': !cropImg.imageSrc }\"\r\n                            style=\"height: 400px;\"\r\n                          >\r\n                            <vueCropper\r\n                              ref=\"cropper\"\r\n                              :img=\"cropImg.imageSrc\"\r\n                              :full=\"cropImg.full\"\r\n                              :outputSize=\"cropImg.outputSize\"\r\n                              :outputType=\"cropImg.outputType\"\r\n                              :autoCropWidth=\"cropImg.autoCropWidth\"\r\n                              :autoCropHeight=\"cropImg.autoCropHeight\"\r\n                              :info=\"true\"\r\n                              @realTime=\"previewRealTime\"\r\n                            />\r\n                          </div>\r\n                          <div class=\"btn-group flex-wrap\">\r\n                            <label class=\"btn btn-primary mb-2 mr-2\" for=\"change-image\">\r\n                              <input\r\n                                class=\"sr-only\"\r\n                                type=\"file\"\r\n                                id=\"change-image\"\r\n                                accept=\"image/png, image/jpeg, image/gif, image/jpg\"\r\n                                @change=\"changeImage($event)\"\r\n                              > Change Image\r\n                            </label>\r\n                            <b-btn\r\n                              class=\"mr-2 mb-2\"\r\n                              @click=\"startCrop\"\r\n                              v-if=\"!cropImg.crap\"\r\n                              :disabled=\"!cropImg.imageSrc\"\r\n                            >Start Crop</b-btn>\r\n                            <b-btn\r\n                              class=\"mr-2 mb-2\"\r\n                              @click=\"stopCrop\"\r\n                              variant=\"danger\"\r\n                              v-else\r\n                              :disabled=\"!cropImg.imageSrc\"\r\n                            >Stop Crop</b-btn>\r\n                          </div>\r\n                          <br>\r\n                          <br>\r\n                          <div class=\"btn-group flex-wrap\">\r\n                            <b-btn\r\n                              class=\"mr-2 mb-4\"\r\n                              @click=\"storeItemImage('base64')\"\r\n                              :disabled=\"!cropImg.imageSrc\"\r\n                            >Submit Item</b-btn>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-xl-4\" v-show=\"!this.showInstruct\">\r\n                          <p class=\"text-danger\">\r\n                            Both of the name and your\r\n                            <b>appraisal</b> are necessary for registration. Please provide these information before clicking\r\n                            <b>\"Submit Item\"</b> button.\r\n                          </p>\r\n                          <b-form-group label=\"Item Name\">\r\n                            <b-input\r\n                              type=\"text\"\r\n                              name=\"name\"\r\n                              placeholder=\"Please enter name of this belonging\"\r\n                              v-model=\"itemName\"\r\n                            />\r\n                          </b-form-group>\r\n                          <b-form-group label=\"Item Price (EUR)\">\r\n                            <b-input\r\n                              type=\"text\"\r\n                              name=\"price\"\r\n                              placeholder=\"Please provide your appraisal of this belonging\"\r\n                              v-model=\"itemPrice\"\r\n                            />\r\n                          </b-form-group>\r\n                          <br>\r\n                          <br>\r\n                          <p>Output Preview</p>\r\n                          <div\r\n                            :style=\"{'width': cropImg.realTimePreviewData.w + 'px', 'height': cropImg.realTimePreviewData.h + 'px', 'overflow': 'hidden', 'margin': '5px'}\"\r\n                          >\r\n                            <div :style=\"cropImg.realTimePreviewData.div\">\r\n                              <img\r\n                                :src=\"cropImg.realTimePreviewData.url\"\r\n                                :style=\"cropImg.realTimePreviewData.img\"\r\n                              >\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <!-- end row -->\r\n                </fieldset>\r\n                <!-- end fieldset -->\r\n              </div>\r\n              <!-- end step-2 -->\r\n            </b-card>\r\n          </tab-content>\r\n          <tab-content title=\"Confirm Item Information\">\r\n            <b-card class=\"mb-3\">\r\n              <!-- begin step-3 -->\r\n              <div id=\"step-3\">\r\n                <!-- begin fieldset -->\r\n                <fieldset>\r\n                  <!-- begin row -->\r\n                  <div class=\"row\">\r\n                    <legend\r\n                      class=\"no-border f-w-700 p-b-0 m-t-0 m-b-20 f-s-16 text-inverse\"\r\n                      style=\"margin-left: 20px !important\"\r\n                    >Please double-check item information and comfirm your order</legend>\r\n                    <p style=\"margin-left: 20px !important\" class=\"step-explain\">\r\n                      <br>Items listed below are selected from the previous page.\r\n                      <br>Please recheck relevant information, and extra detailed explanation is appreciated.\r\n                      <br>Once checking is finished, please click the \"Create Order\" button to generate your order.\r\n                    </p>\r\n                    <!-- START table-responsive-->\r\n                    <div class=\"table-responsive\">\r\n                      <table class=\"table table-striped table-bordered table-hover card card-body\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Description</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr v-for=\"items in formData.select_img\" :key=\"items.id\">\r\n                            <td>\r\n                              <div class=\"media align-items-center\">\r\n                                <div>\r\n                                  <img\r\n                                    class=\"img-fluid rounded thumb64\"\r\n                                    :src=\"items.imgUrl\"\r\n                                    width=\"70\"\r\n                                    height=\"auto\"\r\n                                    alt\r\n                                  >\r\n                                </div>\r\n                                <div class=\"media-body d-flex row\">\r\n                                  <div>\r\n                                    <div style=\"margin-left: 30px\" class=\"row\">\r\n                                      <b-form-group label=\"Item Name\" style=\"margin-left: 20px\">\r\n                                        <b-input\r\n                                          type=\"text\"\r\n                                          id=\"itemName\"\r\n                                          name=\"itemName\"\r\n                                          v-validate=\"'required'\"\r\n                                          v-bind:class=\"{'is-invalid': errors.has('itemName')}\"\r\n                                          v-model=\"items.name\"\r\n                                          class=\"form-control\"\r\n                                        />\r\n                                        <span\r\n                                          style=\"color: red !important;\"\r\n                                        >{{ errors.first('itemName') }}</span>\r\n                                      </b-form-group>\r\n                                      <b-form-group\r\n                                        label=\"Item Price (EUR)\"\r\n                                        style=\"margin-left: 20px\"\r\n                                      >\r\n                                        <b-input\r\n                                          type=\"text\"\r\n                                          id=\"itemPrice\"\r\n                                          name=\"itemPrice\"\r\n                                          v-validate=\"'required'\"\r\n                                          v-bind:class=\"{'is-invalid': errors.has('itemPrice')}\"\r\n                                          v-model=\"items.price\"\r\n                                          class=\"form-control\"\r\n                                        />\r\n                                        <span\r\n                                          style=\"color: red !important;\"\r\n                                        >{{ errors.first('itemPrice') }}</span>\r\n                                      </b-form-group>\r\n                                      <b-form-group\r\n                                        label=\"Remark\"\r\n                                        style=\"margin-left: 20px; width: 400px\"\r\n                                      >\r\n                                        <b-input\r\n                                          type=\"text\"\r\n                                          id=\"remark\"\r\n                                          name=\"remark\"\r\n                                          placeholder=\"Please leave reasons for appraisal or requirements if needed\"\r\n                                          v-model=\"items.remark\"\r\n                                          class=\"form-control\"\r\n                                        />\r\n                                      </b-form-group>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                    <!-- END table-responsive-->\r\n                    <b-button\r\n                      size=\"lg\"\r\n                      class=\"mb-1 mr-1 right-button\"\r\n                      variant=\"outline-primary\"\r\n                      type=\"button\"\r\n                      v-on:click=\"generateOrder\"\r\n                    >Create Order</b-button>\r\n                    <!-- begin invoice -->\r\n                    <div class=\"invoice\" v-show=\"this.showOrder\">\r\n                      <div\r\n                        class=\"invoice-company text-inverse f-w-600\"\r\n                        style=\"font-size: 15px\"\r\n                      >Registration Order</div>\r\n                      <!-- begin invoice-content -->\r\n                      <div class=\"invoice-content\">\r\n                        <!-- begin table-responsive -->\r\n                        <div class=\"table-responsive\">\r\n                          <table class=\"table table-invoice\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th class=\"text-left\" width=\"30%\">NAME</th>\r\n                                <th class=\"text-left\" width=\"30%\">PRICE (APPRAISAL)</th>\r\n                                <th class=\"text-left\" width=\"40%\">REMARK</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              <tr v-for=\"items in formData.select_img\" :key=\"items.id\">\r\n                                <td>\r\n                                  <span class=\"text-inverse\">{{items.name}}</span>\r\n                                </td>\r\n                                <td>\r\n                                  <small class=\"text-inverse\">{{items.price}}</small>\r\n                                </td>\r\n                                <td class=\"text-inverse\">{{items.remark}}</td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                        <!-- end table-responsive -->\r\n                        <!-- begin invoice-price -->\r\n                        <div\r\n                          class=\"invoice-price\"\r\n                          style=\"width: 100% !important; height: auto !important\"\r\n                        >\r\n                          <div class=\"invoice-price-left\">\r\n                            <div class=\"invoice-price-row\"></div>\r\n                          </div>\r\n                          <div class=\"invoice-price-right\">\r\n                            <small>TOTAL</small>\r\n                            <span\r\n                              class=\"f-w-600\"\r\n                              style=\"font-size: 25px !important\"\r\n                            >{{formData.sum_price}} EUR</span>\r\n                          </div>\r\n                        </div>\r\n                        <!-- end invoice-price -->\r\n                      </div>\r\n                      <!-- end invoice-content -->\r\n                    </div>\r\n                    <!-- end invoice -->\r\n                  </div>\r\n                  <!-- end row -->\r\n                </fieldset>\r\n                <!-- end fieldset -->\r\n              </div>\r\n              <!-- end step-3 -->\r\n            </b-card>\r\n          </tab-content>\r\n          <tab-content title=\"Questions and Remarks\">\r\n            <b-card class=\"mb-3\">\r\n              <!-- begin step-3 -->\r\n              <div id=\"step-4\">\r\n                <!-- begin fieldset -->\r\n                <fieldset>\r\n                  <!-- begin row -->\r\n                  <div class=\"row\">\r\n                    <!-- begin col-8 -->\r\n                    <div class=\"col-md-8 offset-md-2\">\r\n                      <legend\r\n                        class=\"no-border f-w-700 p-b-0 m-t-0 m-b-20 f-s-16 text-inverse\"\r\n                      >Please leave Remarks if your have any questions</legend>\r\n                      <p class=\"step-explain\">\r\n                        <br>In this section, please leave messages, if your have any special requirements.\r\n                        <br>We will provide supports or solutions according to your remarks and questions.\r\n                      </p>\r\n                      <br>\r\n                      <!-- begin form-group -->\r\n                      <div class=\"form-group row m-b-10\">\r\n                        <label>Remark</label>\r\n                        <div class=\"col-md-9\">\r\n                          <textarea\r\n                            class=\"form-control m-b-10\"\r\n                            rows=\"9\"\r\n                            placeholder=\"Please speficy your personal needs or other feedbacks in this field. If your have any questions, please also let us know.\"\r\n                            v-model=\"formData.remark\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                      <!-- end form-group -->\r\n                    </div>\r\n                    <!-- end col-8 -->\r\n                  </div>\r\n                  <!-- end row -->\r\n                </fieldset>\r\n                <!-- end fieldset -->\r\n              </div>\r\n              <!-- end step-3 -->\r\n            </b-card>\r\n          </tab-content>\r\n          <!-- Directions -->\r\n          <b-btn variant=\"secondary\" slot=\"prev\">Back</b-btn>\r\n          <b-btn variant=\"secondary\" slot=\"next\">Next</b-btn>\r\n          <b-btn variant=\"info\" slot=\"finish\">Submit Insurance Order</b-btn>\r\n        </form-wizard>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PieChart from \"../components/vue-chartjs/PieChart\";\r\nimport { FormWizard, TabContent, WizardStep } from \"vue-form-wizard\";\r\nimport axios from \"axios\";\r\nimport { constants } from \"crypto\";\r\n\r\nexport default {\r\n  components: {\r\n    PieChart,\r\n    FormWizard,\r\n    TabContent,\r\n    WizardStep\r\n  },\r\n  data() {\r\n    return {\r\n      formData: {\r\n        username: this.$user.username,\r\n        flight_num: \"\",\r\n        luggage_width: \"\",\r\n        luggage_height: \"\",\r\n        luggage_image_outside: null,\r\n        luggage_image_inside: null,\r\n        remark: \"\",\r\n        select_img: [],\r\n        sum_price: \"\"\r\n      },\r\n      checkedItems: [false, false, false, false, false],\r\n      pieChart: {\r\n        data: {\r\n          labels: [\"Order 1\", \"Order 2\", \"Order 3\", \"Order 4\", \"Remaining\"],\r\n          datasets: [\r\n            {\r\n              data: [300, 50, 100, 40, 120],\r\n              backgroundColor: [\r\n                \"rgba(255, 91, 87, 0.7)\",\r\n                \"rgba(245, 156, 26, 0.7)\",\r\n                \"rgba(240, 243, 244, 0.7)\",\r\n                \"rgba(182, 194, 201, 0.7)\",\r\n                \"rgba(45, 53, 60, 0.7)\"\r\n              ],\r\n              borderColor: [\r\n                \"#ff5b57\",\r\n                \"#f59c1a\",\r\n                \"#b4b6b7\",\r\n                \"#b6c2c9\",\r\n                \"#2d353c\"\r\n              ],\r\n              borderWidth: 2,\r\n              label: \"My dataset\"\r\n            }\r\n          ]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false\r\n        }\r\n      },\r\n      parameters: [\"Order_ID\", \"Registration_Time\", \"Compensation\"],\r\n      itemsFields: [\r\n        {\r\n          isActive: true,\r\n          Order_ID: 1,\r\n          Registration_Time: \"2019-01-08\",\r\n          Compensation: \"800\"\r\n        },\r\n        {\r\n          isActive: false,\r\n          Order_ID: 2,\r\n          Registration_Time: \"2019-02-16\",\r\n          Compensation: \"1000\"\r\n        },\r\n        {\r\n          isActive: false,\r\n          Order_ID: 3,\r\n          Registration_Time: \"2019-02-24\",\r\n          Compensation: \"1000\"\r\n        },\r\n        {\r\n          isActive: true,\r\n          Order_ID: 4,\r\n          Registration_Time: \"2019-04-13\",\r\n          Compensation: \"200\"\r\n        }\r\n      ],\r\n      cropImg: {\r\n        imageSrc: \"\",\r\n        full: true,\r\n        outputSize: 1,\r\n        outputType: \"jpeg\",\r\n        realTimePreviewData: {},\r\n        crap: false,\r\n        previewImage: null,\r\n        autoCropWidth: 200,\r\n        autoCropHeight: 200,\r\n        fileName: \"\"\r\n      },\r\n      // global variables in this vue file\r\n      showForm: false,\r\n      showInstruct: true,\r\n      itemName: \"\",\r\n      itemPrice: \"\",\r\n      showOrder: false\r\n    };\r\n  },\r\n  computed: {\r\n    isFormInvalid() {\r\n      return Object.keys(this.fields).some(key => this.fields[key].invalid);\r\n    }\r\n  },\r\n  methods: {\r\n    onCardRefresh(card, done) {\r\n      setTimeout(done, 3000);\r\n    },\r\n    changeFormStatus() {\r\n      this.showForm = true;\r\n    },\r\n    checkProjectValue(e) {\r\n      var value = e.target.value.split(\"-\");\r\n      this.formData.product_id = value[0];\r\n      this.formData.project_id = value[1];\r\n    },\r\n    submitOrderForm() {\r\n      if (!this.isFormInvalid) {\r\n        this.$user.insurance_order_list[\r\n          this.$user.insurance_order_list.length\r\n        ] = this.formData;\r\n\r\n        var obj = JSON.stringify(this.formData);\r\n        axios\r\n          .post(\"/luggage/order/new_travel\", obj)\r\n          .then(res => {\r\n            var response = JSON.parse(JSON.stringify(res.data));\r\n            alert(response);\r\n          })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n          });\r\n      } else {\r\n        alert(\"Please enter valid information in all required fields.\");\r\n      }\r\n    },\r\n    startCrop() {\r\n      this.cropImg.crap = true;\r\n      this.$refs.cropper.startCrop();\r\n    },\r\n    stopCrop() {\r\n      this.cropImg.crap = false;\r\n      this.$refs.cropper.stopCrop();\r\n      this.$refs.cropper.clearCrop();\r\n      this.itemName = \"\";\r\n      this.itemPrice = \"\";\r\n    },\r\n    previewRealTime(data) {\r\n      this.cropImg.realTimePreviewData = data;\r\n    },\r\n    storeItemImage(type) {\r\n      if (type === \"blob\") {\r\n        this.$refs.cropper.getCropBlob(data => {\r\n          this.downloadImgData = window.URL.createObjectURL(data);\r\n          this.formData.select_img[this.formData.select_img.length] = {\r\n            imgUrl: this.downloadImgData\r\n          };\r\n        });\r\n      } else {\r\n        this.$refs.cropper.getCropData(data => {\r\n          var img = new Image();\r\n          img.src = data;\r\n          this.formData.select_img[this.formData.select_img.length] = {\r\n            imgUrl: img.src,\r\n            name: this.itemName,\r\n            price: this.itemPrice,\r\n            remark: \"\"\r\n          };\r\n        });\r\n      }\r\n    },\r\n    convertImg(e, img) {\r\n      var _this = this;\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(e.target.files[0]);\r\n      reader.onload = function(e) {\r\n        if (img == \"in\") {\r\n          _this.formData.luggage_image_inside = e.target.result;\r\n        } else if (img == \"out\") {\r\n          _this.formData.luggage_image_outside = e.target.result;\r\n        } else {\r\n          return;\r\n        }\r\n      };\r\n    },\r\n    changeImage(e) {\r\n      var file = e.target.files[0];\r\n      this.fileName = file.name;\r\n      if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\r\n        alert(\r\n          \"Please one of the following extensions: gif, jpeg, jpg, png, bmp\"\r\n        );\r\n        return false;\r\n      }\r\n      var reader = new FileReader();\r\n      reader.onload = e => {\r\n        var data;\r\n        if (typeof e.target.result === \"object\") {\r\n          data = window.URL.createObjectURL(new Blob([e.target.result]));\r\n        } else {\r\n          data = e.target.result;\r\n        }\r\n        this.cropImg.imageSrc = data;\r\n      };\r\n      reader.readAsArrayBuffer(file);\r\n      this.showInstruct = false;\r\n    },\r\n    generateOrder() {\r\n      var sum_price = 0;\r\n      for (var i = 0; i < this.formData.select_img.length; i++) {\r\n        sum_price += Number(this.formData.select_img[i].price);\r\n      }\r\n      this.formData.sum_price = sum_price;\r\n      this.showOrder = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#pie {\r\n  margin-top: 40px;\r\n  margin-left: 40px;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n#inforTable {\r\n  margin: 40px;\r\n}\r\n\r\n#info {\r\n  background: #edfaa225;\r\n}\r\n\r\n.mb-3 {\r\n  background-color: #80acdf11 !important;\r\n}\r\n.img-fluid {\r\n  margin: 10px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.instruct-crop {\r\n  margin: 5px;\r\n  margin-bottom: 40px;\r\n  font-size: 15px;\r\n  background-color: #f5e8bf52 !important;\r\n}\r\n\r\n.itemUpdateButton {\r\n  margin: 10px;\r\n  margin-left: 30px;\r\n}\r\n\r\n.bt-save {\r\n  background-color: rgba(255, 127, 127, 0.274) !important;\r\n}\r\n\r\n.bt-update {\r\n  background-color: rgba(127, 255, 206, 0.267) !important;\r\n}\r\n\r\n.bt-remark {\r\n  background-color: rgba(127, 178, 255, 0.267) !important;\r\n}\r\n\r\n.media {\r\n  background-color: rgba(226, 224, 224, 0.171) !important;\r\n}\r\n\r\ninput:disabled {\r\n  border: 1px solid #ddd;\r\n  background-color: #ffffffb6;\r\n  color: #000000;\r\n  opacity: 1;\r\n}\r\n\r\n.table-responsive {\r\n  margin: 20px !important;\r\n}\r\n\r\n.table-invoice {\r\n  font-size: 13px;\r\n}\r\n\r\n.step-explain {\r\n  font-size: 15px;\r\n}\r\n\r\n.right-button {\r\n  margin-top: 5px;\r\n  margin-left: 85%;\r\n}\r\n\r\n.invoice {\r\n  width: 100% !important;\r\n  margin: 20px;\r\n}\r\n</style>\r\n"]}]}